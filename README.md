
# **mulkamolka.S1**

## *1. 대용량 데이터들을 다루면서 생기는 문제들을 서버 관리 관점에서 고민해보고 싶었어요!* 🤔

### 어떤 데이터베이스를 사용할지?
    - NOSQL / RDB 고민 과정에서 짧은 시간 내 빠른 기능 구현을 위한 경험해본 rds 를 사용하였어요!

    클라이언트에서 요구된 명확한 객체를 추출하여 전달하는데 장점을 갖고 있어, 어려움이 없을 것으로 예상하였지만 다양하게 수집되는 데이터들의 정규화, 전처리 과정에서 일련의 참조관계를 고민하는 것에 있어 어려움이 있었는데요, 일관되지 않은 데이터 수집이 필요할 경우 NoSql 사용에 대한 유연성을 고려할 수 있게해준 경험이 되었어요. 

        
### 데이터 수집에 대한 고민 / 테이블 구조에 대한 고민?
    - 이번 프로젝트의 경우 다양한 카테고리로 분류되는 서비스의 특성상 카테고리(테이블) 구조관계에 대해 고민했어요!

    카테고리 테이블을 상위테이블로 규정한 후, 해당 품목을 하위 테이블로 규정하는 방향과 해당 품목을 규정후 해당 품목들의 공통성을 취합하여 카테고리를 설정하는 두 가지의 방향성에 대한 고민을 하였으며 결과적으로 1차적으로 생각한 Data WareHouse 관점 보다 Data Lake 개념으로의 테이블 구조 방향을 선택하여 확장성을 고려한 프로젝트를 진행하였으며 데이터에 용도에 따라 프로젝트를 고민할지, 용도에 따른 데이터를 사용할지에 대한 고민이 시스템 전체적인 아키텍처에 영향을 체감할 수 있는 경험이 되었어요.
    

## *2. 팀에서의 나는?* 🤷🏻‍♂️

### 데이터팀과 클라이언트 사이 그 어딘가?
    - DataTeam에서 제공하는 Data Set 과 서비스 내 제공해야할 기능 사이에서 두 관점의 요구사항을 종합하여 실질적인 기능구현을 맡는다는 부담이 있었으나 팀원 모두 열정적으로 배우고자 하는 태도와 응원, 격려속에서 프로젝트를 끝까지 마칠 수 있었어요. 고생해주신 여러분 감사합니다!

### Agile 과 일정 관리?
    - 지난 프로젝트에서 Trello, Jira를 이용한 Agile 방향에 긍정적인 경험을 갖고 있어 이번 프로젝트 내에도 조금 더 보완하여 적용하면 더욱 효율적인 프로젝트 진행이 가능할것으로 생각하였는데요, 짧은 시간 프로젝트 일정에 집중한 나머지 Agile에 형식적인 회의와 협업 방식만을 제시한 것 같아 긍정적 분위기 속에서 프로젝트를 마칠 수 있었지만 가장 중요한 '팀문화 설정'과 '팀 내 규율 설정'을 제시하지 못하여 형식적인 회의과정으로만 남은 것 같아 아쉬움이 남아요. 


## *3. Spring boot, java* 
    - Spring boot 를 더욱 깊게 다루고자 이번 프로젝트 내 백엔드 역할을 담당하였어요! 
    Maven, JPA를 이용하여 프로젝트 내 API 생성, DB 관리를 중점적으로 하였어요. 이전 프로젝트에서 웹 페이지 제작을 한 경험이 있어 앱 제작 환경에 맞는 Spring 환경들을 구현해 보고자 하였으나, 미숙한 실력으로 인해 많은 기능을 구현하기 보다 적은 기능에 최적화 경험을 쌓는 방향으로 프로젝트 내 진행방향을 수정하였어요.

### P. 연산 후 리스트 전달 과정 중, 대용량 데이터에 너무 많은 시간이 소요.
    ![리스트 값 전달 사진](./images/KakaoTalk_Photo_2022-07-10-00-18-06.png) 
#####    get 요청에서 소요시간이 10초 이상으로 확인되어 기능 수정에 집중하였습니다.

### A1. List 전달 Table 생성 및 TimeScheduler를 이용한, 테이블 자동 수정 로직 구현.
    ![Table 추가 사진](./images/KakaoTalk_Photo_2022-07-10-00-18-06.png)
#####     기능 최적화를 위해 해당 객체만을 빠르게 전달할 수 있는 테이블을 생성한 후 Container 환경에서 실행되는 동안 일정 시간에 해당 계산이 이루어지며, client에 요청으로 값만 받아갈 수 있는 고민을 하였습니다!

### A2. JPQL 을 이용한 쿼리 시간 단축
    복잡한 참조 구조속 방대한 대용량 데이터를 순차탐색할 경우 많은 지연시간을 발생시킨것을 체감하니 문제의 심각성을 느꼈어요.. Table 내 해당 객체만 가져올 수 있도록 Qurey를 임의 작성하여 해당 request 시간을 대폭 줄였으며, JPA 특성속에서 스프링내 등록된 Entity에 대한 영속성 관리가 이루어지는 것 까진 예상하였지만, EntityManagerFactory 를 통한 EntityManager 를 설정해 주는 과정에서 쓰레드 내 공유되지 않는 환경을 구성하는 것에 초점을 맞추다 보니 오랜 시간이 소요되었으며, EntityManager를 '@Autowired' 로 의존성을 주입하는 것 조차 사용되지 않아 '@PersistenceContext'를 확인하여 이용하여 구현이 되었어요.


## *4. 아쉬운 점*
    - 팀원 모두 짧은 시간내 프로젝트 일정관리, 기능 구현, 협업 과정에서의 오류들을 잡기에 부족한 시간이였지만 모두가 열과 성의를 다해 임해준 덕분에 페이스를 잃지 않고 끝까지 완성할 수 있었으며, 다시 한번 감사드립니다! 

    - 데이터와 알고리즘에 대한 이해가 부족하여 많은 공부가 필요하였는데요, 이후 학습방향을 점검할 수 있는 계기가 되었어요!

